webpackJsonp([29],{F0Po:function(e,a){},xMYm:function(e,a,t){"use strict";Object.defineProperty(a,"__esModule",{value:!0});var l=t("fZjL"),n=t.n(l),s=t("Cz8s"),o=t("+Ap0"),r={data:function(){return{isCollapse:this.$store.state.ui.navIsOpen,loadingData:!0,pageInfo:null,tableData:[],page:1,pageSize:20,gradeIcon:["nice","commonly","terrible"],querys:{ppName:null,schType:null,dinnerMod:null,grade:null},schTypeOptions:[{value:"幼儿园",label:"幼儿园"},{value:"托儿所",label:"托儿所"},{value:"小学",label:"小学"}],dinnerModOptions:[{value:0,label:"自营"},{value:1,label:"外包-现场加工"},{value:2,label:"外包-快餐配送"}],gradeOptions:[{value:0,label:"良好"},{value:1,label:"一般"},{value:2,label:"较差"}]}},directives:{permission:t("8YC6").a},watch:{"$store.state.ui.navIsOpen":function(e,a){this.isCollapse=e},$router:"getParams"},created:function(){this.getParams(),this.getTableData()},methods:{getParams:function(){var e=this.$route.params;this.distName=e.distName,this.dishFlag=e.dishFlag},getTableData:function(){var e=this;this.loadingData=!0;var a={page:this.page,pageSize:this.pageSize};n()(this.querys).forEach(function(t){a[t]=e.querys[t]}),this.$store.dispatch("getFoodSafetyDetail",a).then(function(a){e.tableData=a.isFsgDets,e.pageInfo=a.pageInfo,e.loadingData=!1}).catch(function(e){console.log(e)})},handleSizeChange:function(e){this.pageSize=e,this.getTableData()},handleCurrentChange:function(e){this.page=e,this.getTableData()}},components:{Header:s.a,Breadcrumb:o.a}},i={render:function(){var e=this,a=e.$createElement,t=e._self._c||a;return t("div",{attrs:{id:"container"}},[t("Header"),e._v(" "),t("div",{staticClass:"main",class:{fullsize:1==e.isCollapse}},[t("Breadcrumb"),e._v(" "),t("div",{staticClass:"wrapperContent"},[t("el-form",{staticClass:"search-form-inline",attrs:{inline:!0}},[t("el-form-item",[t("el-input",{attrs:{placeholder:"项目点名称"},model:{value:e.querys.ppName,callback:function(a){e.$set(e.querys,"ppName",a)},expression:"querys.ppName"}})],1),e._v(" "),t("el-form-item",[t("el-select",{attrs:{placeholder:"学段"},model:{value:e.querys.schType,callback:function(a){e.$set(e.querys,"schType",a)},expression:"querys.schType"}},e._l(e.schTypeOptions,function(e){return t("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})}))],1),e._v(" "),t("el-form-item",[t("el-select",{attrs:{placeholder:"供餐模式"},model:{value:e.querys.dinnerMod,callback:function(a){e.$set(e.querys,"dinnerMod",a)},expression:"querys.dinnerMod"}},e._l(e.dinnerModOptions,function(e){return t("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})}))],1),e._v(" "),t("el-form-item",[t("el-select",{attrs:{placeholder:"等级"},model:{value:e.querys.grade,callback:function(a){e.$set(e.querys,"grade",a)},expression:"querys.grade"}},e._l(e.gradeOptions,function(e){return t("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})}))],1),e._v(" "),t("el-form-item",[t("el-button",{attrs:{type:"primary"},on:{click:function(a){(e.page=1)&&e.getTableData()}}},[t("i",{staticClass:"iconfont icon-search icon-1x"}),t("span",[e._v("查询")])])],1),e._v(" "),t("el-form-item",[t("el-button",{attrs:{type:"primary",plain:""}},[t("i",{staticClass:"iconfont icon-export icon-1x"}),t("span",[e._v("导出")])])],1)],1),e._v(" "),t("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loadingData,expression:"loadingData"}],attrs:{height:"calc(100% - 165px)",data:e.tableData,"element-loading-text":"加载中","element-loading-spinner":"el-icon-loading","element-loading-background":"rgba(255, 255, 255, 1)",stripe:""}},[t("el-table-column",{attrs:{prop:"ppName",label:"项目点名称"}}),e._v(" "),t("el-table-column",{attrs:{prop:"schType",label:"学段"}}),e._v(" "),t("el-table-column",{attrs:{prop:"dinnerMod",label:"供餐模式"},scopedSlots:e._u([{key:"default",fn:function(a){return[e._v("\n            "+e._s(e.dinnerModOptions[a.row.dinnerMod].label)+"\n          ")]}}])}),e._v(" "),t("el-table-column",{attrs:{prop:"compName",label:"单位名称"}}),e._v(" "),t("el-table-column",{attrs:{prop:"licNo",label:"许可证号"}}),e._v(" "),t("el-table-column",{attrs:{prop:"compAddress",label:"单位地址"}}),e._v(" "),t("el-table-column",{attrs:{prop:"lastInspDate",label:"最近检查日期"}}),e._v(" "),t("el-table-column",{attrs:{prop:"grade",label:"等级"},scopedSlots:e._u([{key:"default",fn:function(a){return[t("span",[e._v(e._s(e.gradeOptions[a.row.grade].label))]),e._v(" "),t("i",{class:"iconfont icon-"+e.gradeIcon[a.row.grade]})]}}])})],1),e._v(" "),t("el-pagination",{attrs:{"current-page":e.pageInfo&&e.pageInfo.curPageNum,"page-sizes":[20,30,50,100],"page-size":20,layout:"total, sizes, prev, pager, next, jumper",total:e.pageInfo&&e.pageInfo.pageTotal},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}})],1)],1)],1)},staticRenderFns:[]};var p=t("VU/8")(r,i,!1,function(e){t("F0Po")},null,null);a.default=p.exports}});