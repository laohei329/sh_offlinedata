webpackJsonp([49],{"4ojA":function(e,a,t){"use strict";Object.defineProperty(a,"__esModule",{value:!0});var n=t("Dd8w"),l=t.n(n),s=t("Cz8s"),r=t("+Ap0"),i=t("8YC6"),o=t("NYxO"),u={data:function(){return{isCollapse:this.$store.state.ui.navIsOpen,loadingData:!0,dateSelected:[],pageInfo:null,tableData:[],page:1,pageSize:20,querys:{distName:null},schTypeOptions:[{value:"幼儿园",label:"幼儿园"},{value:"托儿所",label:"托儿所"},{value:"小学",label:"小学"}],schPropOptions:[{value:"公办",label:"公办"},{value:"民办",label:"民办"},{value:"其他",label:"其他"}],isSetsemOptions:[{value:0,label:"未设置"},{value:1,label:"已设置"}],dinnerModOptions:[{value:0,label:"自营"},{value:1,label:"外包-快餐配送"},{value:2,label:"外包-现场加工"}]}},directives:{permission:i.a},computed:l()({},Object(o.c)(["roles"])),watch:{"$store.state.ui.navIsOpen":function(e,a){this.isCollapse=e}},created:function(){this.getTableData()},methods:{renderHeader:function(e,a){var t=a.column;a.$index;return e("span",{class:"customHeader"},[e("span",t.label),e("i",{class:"iconfont icon-"+t.type})])},getTableData:function(){var e=this;this.loadingData=!0;var a={distName:this.querys.distName,page:this.page,pageSize:this.pageSize};this.$store.dispatch("getFoodSafety",a).then(function(a){e.tableData=a.isFsgList,e.pageInfo=a.pageInfo,e.loadingData=!1}).catch(function(e){console.log(e)})},handleSizeChange:function(e){this.pageSize=e,this.getTableData()},handleCurrentChange:function(e){this.page=e,this.getTableData()}},components:{Header:s.a,Breadcrumb:r.a}},c={render:function(){var e=this,a=e.$createElement,t=e._self._c||a;return t("div",{attrs:{id:"container"}},[t("Header"),e._v(" "),t("div",{staticClass:"main",class:{fullsize:1==e.isCollapse}},[t("Breadcrumb"),e._v(" "),t("div",{staticClass:"wrapperContent"},[t("el-form",{staticClass:"search-form-inline",attrs:{inline:!0}},[t("el-form-item",[t("el-select",{attrs:{placeholder:"所在地"},model:{value:e.querys.distName,callback:function(a){e.$set(e.querys,"distName",a)},expression:"querys.distName"}},e._l(e.$store.state.home.distNameOptions,function(e){return t("el-option",{key:e.code,attrs:{label:e.name,value:e.code}})}))],1),e._v(" "),t("el-form-item",[t("el-button",{attrs:{type:"primary"},on:{click:function(a){e.search()}}},[t("i",{staticClass:"iconfont icon-search icon-distance icon-1x"}),e._v("查询")])],1)],1),e._v(" "),t("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loadingData,expression:"loadingData"}],attrs:{height:"calc(100% - 165px)",data:e.tableData,"element-loading-text":"加载中","element-loading-spinner":"el-icon-loading","element-loading-background":"rgba(255, 255, 255, 1)",stripe:""}},[t("el-table-column",{attrs:{align:"center",prop:"distName",label:"所在地"}}),e._v(" "),t("el-table-column",{attrs:{align:"center",prop:"ppNum",label:"项目点数量"},scopedSlots:e._u([{key:"default",fn:function(a){return[t("router-link",{attrs:{to:{name:"saftyDetailList"}}},[e._v(e._s(a.row.ppNum))])]}}])}),e._v(" "),t("el-table-column",{attrs:{align:"center",prop:"ppGoodNum",type:"nice",label:"良好","render-header":e.renderHeader},scopedSlots:e._u([{key:"default",fn:function(a){return[t("router-link",{attrs:{to:{name:"saftyDetailList"}}},[e._v(e._s(a.row.ppGoodNum))])]}}])}),e._v(" "),t("el-table-column",{attrs:{align:"center",prop:"ppGeneralNum",type:"commonly",label:"一般","render-header":e.renderHeader},scopedSlots:e._u([{key:"default",fn:function(a){return[t("router-link",{attrs:{to:{name:"saftyDetailList"}}},[e._v(e._s(a.row.ppGeneralNum))])]}}])}),e._v(" "),t("el-table-column",{attrs:{align:"center",prop:"ppLessNum",type:"terrible",label:"较差","render-header":e.renderHeader},scopedSlots:e._u([{key:"default",fn:function(a){return[t("router-link",{attrs:{to:{name:"saftyDetailList"}}},[e._v(e._s(a.row.ppLessNum))])]}}])})],1),e._v(" "),t("el-pagination",{attrs:{"current-page":e.pageInfo&&e.pageInfo.curPageNum,"page-sizes":[20,30,50,100],"page-size":20,layout:"total, sizes, prev, pager, next, jumper",total:e.pageInfo&&e.pageInfo.pageTotal},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}})],1)],1)],1)},staticRenderFns:[]},p=t("VU/8")(u,c,!1,null,null,null);a.default=p.exports}});