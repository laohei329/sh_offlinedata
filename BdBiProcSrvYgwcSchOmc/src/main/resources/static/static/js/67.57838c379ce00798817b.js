webpackJsonp([67],{kuAD:function(e,a,l){"use strict";Object.defineProperty(a,"__esModule",{value:!0});var t=l("fZjL"),s=l.n(t),n=l("Dd8w"),i=l.n(n),r=l("Cz8s"),o=l("+Ap0"),c=l("8YC6"),u=l("NYxO"),p={data:function(){return{isCollapse:this.$store.state.ui.navIsOpen,loadingData:!0,dateSelected:[],pageInfo:null,tableData:[],page:1,pageSize:20,querys:{},schTypeOptions:[{value:"幼儿园",label:"幼儿园"},{value:"托儿所",label:"托儿所"},{value:"小学",label:"小学"}],schPropOptions:[{value:"公办",label:"公办"},{value:"民办",label:"民办"},{value:"其他",label:"其他"}],isSetsemOptions:[{value:0,label:"未设置"},{value:1,label:"已设置"}],dinnerModOptions:[{value:0,label:"自营"},{value:1,label:"外包-快餐配送"},{value:2,label:"外包-现场加工"}]}},directives:{permission:c.a},computed:i()({},Object(u.c)(["roles"])),watch:{"$store.state.ui.navIsOpen":function(e,a){this.isCollapse=e}},created:function(){this.getTableData()},methods:{getTableData:function(){var e=this;this.loadingData=!0;var a={page:this.page,pageSize:this.pageSize};s()(this.querys).forEach(function(l){a[l]=e.querys[l]}),this.$store.dispatch("getDishesData",a).then(function(a){e.tableData=a.bdDishList,e.pageInfo=a.pageInfo,e.loadingData=!1}).catch(function(e){console.log(e)})},handleSizeChange:function(e){this.pageSize=e,this.getTableData()},handleCurrentChange:function(e){this.page=e,this.getTableData()}},components:{Header:r.a,Breadcrumb:o.a}},d={render:function(){var e=this,a=e.$createElement,l=e._self._c||a;return l("div",{attrs:{id:"container"}},[l("Header"),e._v(" "),l("div",{staticClass:"main",class:{fullsize:1==e.isCollapse}},[l("Breadcrumb"),e._v(" "),l("div",{staticClass:"wrapperContent"},[l("el-form",{staticClass:"search-form-inline",attrs:{inline:!0}},[l("el-form-item",[l("el-input",{attrs:{placeholder:"团餐公司名称"},model:{value:e.querys.rmcName,callback:function(a){e.$set(e.querys,"rmcName",a)},expression:"querys.rmcName"}})],1),e._v(" "),l("el-form-item",[l("el-input",{attrs:{placeholder:"菜品名称"},model:{value:e.querys.dishName,callback:function(a){e.$set(e.querys,"dishName",a)},expression:"querys.dishName"}})],1),e._v(" "),l("el-form-item",{staticClass:"selectMinni"},[l("el-select",{attrs:{placeholder:"颜色"},model:{value:e.querys.dishColor,callback:function(a){e.$set(e.querys,"dishColor",a)},expression:"querys.dishColor"}},e._l(e.$store.state.home.distNameOptions,function(e){return l("el-option",{key:e.code,attrs:{label:e.name,value:e.code}})}))],1),e._v(" "),l("el-form-item",{staticClass:"selectMinni"},[l("el-select",{attrs:{placeholder:"形状"},model:{value:e.querys.dishShape,callback:function(a){e.$set(e.querys,"dishShape",a)},expression:"querys.dishShape"}},e._l(e.schTypeOptions,function(e){return l("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})}))],1),e._v(" "),l("el-form-item",{staticClass:"selectMinni"},[l("el-select",{attrs:{placeholder:"工艺"},model:{value:e.querys.dishTech,callback:function(a){e.$set(e.querys,"dishTech",a)},expression:"querys.dishTech"}},e._l(e.schPropOptions,function(e){return l("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})}))],1),e._v(" "),l("el-form-item",{staticClass:"selectMinni"},[l("el-select",{attrs:{placeholder:"口味"},model:{value:e.querys.dishTaste,callback:function(a){e.$set(e.querys,"dishTaste",a)},expression:"querys.dishTaste"}},e._l(e.isSetsemOptions,function(e){return l("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})}))],1),e._v(" "),l("el-form-item",[l("el-select",{attrs:{placeholder:"菜系"},model:{value:e.querys.dishStyle,callback:function(a){e.$set(e.querys,"dishStyle",a)},expression:"querys.dishStyle"}},e._l(e.dinnerModOptions,function(e){return l("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})}))],1),e._v(" "),l("el-form-item",[l("el-input",{attrs:{placeholder:"类别"},model:{value:e.querys.dishCategory,callback:function(a){e.$set(e.querys,"dishCategory",a)},expression:"querys.dishCategory"}})],1),e._v(" "),l("el-form-item",[l("el-button",{attrs:{type:"primary"},on:{click:function(a){(e.page=1)&&e.getTableData()}}},[l("i",{staticClass:"iconfont icon-search icon-1x"}),l("span",[e._v("查询")])])],1),e._v(" "),l("el-form-item",[l("el-button",{attrs:{type:"primary",plain:""}},[l("i",{staticClass:"iconfont icon-export icon-1x"}),l("span",[e._v("导出")])])],1)],1),e._v(" "),l("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loadingData,expression:"loadingData"}],attrs:{height:"calc(100% - 165px)",data:e.tableData,"element-loading-text":"加载中","element-loading-spinner":"el-icon-loading","element-loading-background":"rgba(255, 255, 255, 1)",stripe:""}},[l("el-table-column",{attrs:{align:"center",prop:"rmcName",label:"团餐公司"}}),e._v(" "),l("el-table-column",{attrs:{align:"center",prop:"dishName",label:"菜品名称"}}),e._v(" "),l("el-table-column",{attrs:{align:"center",prop:"dishShape",label:"形状"}}),e._v(" "),l("el-table-column",{attrs:{align:"center",prop:"dishTech",label:"工艺"}}),e._v(" "),l("el-table-column",{attrs:{align:"center",prop:"dishTaste",label:"口味"}}),e._v(" "),l("el-table-column",{attrs:{align:"center",prop:"dishStyle",label:"菜系"}}),e._v(" "),l("el-table-column",{attrs:{align:"center",prop:"dishCategory",label:"类别"}}),e._v(" "),l("el-table-column",{attrs:{align:"center",prop:"protein",label:"蛋白质"}}),e._v(" "),l("el-table-column",{attrs:{align:"center",prop:"fat",label:"脂肪"}}),e._v(" "),l("el-table-column",{attrs:{align:"center",prop:"carbohydrate",label:"碳水化合物"}}),e._v(" "),l("el-table-column",{attrs:{align:"center",prop:"energy",label:"热量"}}),e._v(" "),l("el-table-column",{attrs:{align:"center",prop:"dietaryFiber",label:"膳食纤维"}})],1),e._v(" "),l("el-pagination",{attrs:{"current-page":e.pageInfo&&e.pageInfo.curPageNum,"page-sizes":[20,30,50,100],"page-size":20,layout:"total, sizes, prev, pager, next, jumper",total:e.pageInfo&&e.pageInfo.pageTotal},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}})],1)],1)],1)},staticRenderFns:[]},h=l("VU/8")(p,d,!1,null,null,null);a.default=h.exports}});