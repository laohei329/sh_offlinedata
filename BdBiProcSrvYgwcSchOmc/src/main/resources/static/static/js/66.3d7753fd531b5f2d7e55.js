webpackJsonp([66],{Lpep:function(e,a,t){"use strict";Object.defineProperty(a,"__esModule",{value:!0});var l=t("fZjL"),n=t.n(l),r=t("Dd8w"),s=t.n(r),i=t("Cz8s"),o=t("+Ap0"),c=t("8YC6"),u=t("NYxO"),p={data:function(){return{isCollapse:this.$store.state.ui.navIsOpen,loadingData:!0,dateSelected:[],pageInfo:null,tableData:[],page:1,pageSize:20,querys:{},matCategoryOptions:[{value:0,label:"水产品"},{value:1,label:"调味品"},{value:2,label:"干货"}],matClassifyOptions:[{value:0,label:"冻品"},{value:1,label:"非冻品"}],standardNameOptions:[{value:0,label:"桃子"},{value:1,label:"料酒"}],matNameOptions:[{value:0,label:"野生鲫鱼"},{value:1,label:"芝麻香油"},{value:2,label:"料酒"}]}},directives:{permission:c.a},computed:s()({},Object(u.c)(["roles"])),watch:{"$store.state.ui.navIsOpen":function(e,a){this.isCollapse=e}},created:function(){this.getTableData()},methods:{getTableData:function(){var e=this;this.loadingData=!0;var a={page:this.page,pageSize:this.pageSize};n()(this.querys).forEach(function(t){a[t]=e.querys[t]}),this.$store.dispatch("getMaterialData",a).then(function(a){e.tableData=a.bdMatList,e.pageInfo=a.pageInfo,e.loadingData=!1}).catch(function(e){console.log(e)})},handleSizeChange:function(e){this.pageSize=e,this.getTableData()},handleCurrentChange:function(e){this.page=e,this.getTableData()}},components:{Header:i.a,Breadcrumb:o.a}},m={render:function(){var e=this,a=e.$createElement,t=e._self._c||a;return t("div",{attrs:{id:"container"}},[t("Header"),e._v(" "),t("div",{staticClass:"main",class:{fullsize:1==e.isCollapse}},[t("Breadcrumb"),e._v(" "),t("div",{staticClass:"wrapperContent"},[t("el-form",{staticClass:"search-form-inline",attrs:{inline:!0}},[t("el-form-item",[t("el-select",{attrs:{placeholder:"团餐公司"},model:{value:e.querys.rmcName,callback:function(a){e.$set(e.querys,"rmcName",a)},expression:"querys.rmcName"}},e._l(e.$store.state.home.companyNameOptions,function(e){return t("el-option",{key:e.rmcId,attrs:{label:e.rmcName,value:e.rmcId}})}))],1),e._v(" "),t("el-form-item",{staticClass:"selectMinni"},[t("el-select",{attrs:{placeholder:"物料名称",clearable:"",filterable:"","allow-create":""},model:{value:e.querys.matName,callback:function(a){e.$set(e.querys,"matName",a)},expression:"querys.matName"}},e._l(e.matNameOptions,function(e){return t("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})}))],1),e._v(" "),t("el-form-item",{staticClass:"selectMinni"},[t("el-select",{attrs:{placeholder:"标准名称",clearable:"",filterable:"","allow-create":""},model:{value:e.querys.standardName,callback:function(a){e.$set(e.querys,"standardName",a)},expression:"querys.standardName"}},e._l(e.standardNameOptions,function(e){return t("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})}))],1),e._v(" "),t("el-form-item",[t("el-select",{attrs:{placeholder:"类别",clearable:"",filterable:""},model:{value:e.querys.matCategory,callback:function(a){e.$set(e.querys,"matCategory",a)},expression:"querys.matCategory"}},e._l(e.matCategoryOptions,function(e){return t("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})}))],1),e._v(" "),t("el-form-item",[t("el-select",{attrs:{placeholder:"物料分类",clearable:"",filterable:""},model:{value:e.querys.matClassify,callback:function(a){e.$set(e.querys,"matClassify",a)},expression:"querys.matClassify"}},e._l(e.matClassifyOptions,function(e){return t("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})}))],1),e._v(" "),t("el-form-item",[t("el-button",{attrs:{type:"primary"},on:{click:function(a){(e.page=1)&&e.getTableData()}}},[t("i",{staticClass:"iconfont icon-search icon-1x"}),t("span",[e._v("查询")])])],1),e._v(" "),t("el-form-item",[t("el-button",{attrs:{type:"primary",plain:""}},[t("i",{staticClass:"iconfont icon-export icon-1x"}),t("span",[e._v("导出")])])],1)],1),e._v(" "),t("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loadingData,expression:"loadingData"}],attrs:{height:"calc(100% - 165px)",data:e.tableData,"element-loading-text":"加载中","element-loading-spinner":"el-icon-loading","element-loading-background":"rgba(255, 255, 255, 1)",stripe:""}},[t("el-table-column",{attrs:{align:"center",prop:"rmcName",label:"团餐公司"}}),e._v(" "),t("el-table-column",{attrs:{align:"center",prop:"matName",label:"物料名称"}}),e._v(" "),t("el-table-column",{attrs:{align:"center",prop:"standardName",label:"标准名称"}}),e._v(" "),t("el-table-column",{attrs:{align:"center",prop:"matCategory",label:"类别"}}),e._v(" "),t("el-table-column",{attrs:{align:"center",prop:"matClassify",label:"物料分类"},scopedSlots:e._u([{key:"default",fn:function(a){return[e._v("\n                    "+e._s(e.matClassifyOptions[a.row.matClassify].label)+"\n                  ")]}}])}),e._v(" "),t("el-table-column",{attrs:{align:"center",prop:"spec",label:"规格"}}),e._v(" "),t("el-table-column",{attrs:{align:"center",prop:"basicUnit",label:"基本单位"}}),e._v(" "),t("el-table-column",{attrs:{align:"center",prop:"actualUnit",label:"实际单位"}}),e._v(" "),t("el-table-column",{attrs:{align:"center",prop:"netMatRate",label:"净料率"}}),e._v(" "),t("el-table-column",{attrs:{align:"center",prop:"distrAttr",label:"配送属性"}}),e._v(" "),t("el-table-column",{attrs:{align:"center",prop:"shelfLife",label:"保质期"}}),e._v(" "),t("el-table-column",{attrs:{align:"center",prop:"remarks",label:"备注"}})],1),e._v(" "),t("el-pagination",{attrs:{"current-page":e.pageInfo&&e.pageInfo.curPageNum,"page-sizes":[20,30,50,100],"page-size":20,layout:"total, sizes, prev, pager, next, jumper",total:e.pageInfo&&e.pageInfo.pageTotal},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}})],1)],1)],1)},staticRenderFns:[]},b=t("VU/8")(p,m,!1,null,null,null);a.default=b.exports}});