webpackJsonp([61],{pMcQ:function(e,a,l){"use strict";Object.defineProperty(a,"__esModule",{value:!0});var t=l("fZjL"),n=l.n(t),r=l("Dd8w"),s=l.n(r),i=l("Cz8s"),o=l("+Ap0"),p=l("8YC6"),c=l("NYxO"),u={data:function(){return{isCollapse:this.$store.state.ui.navIsOpen,loadingData:!0,dateSelected:[],pageInfo:null,tableData:[],page:1,pageSize:20,querys:{},supplierTypeOptions:[{value:0,label:"生产类"},{value:1,label:"经销类"}],provinceOptions:[{value:0,label:"上海市"},{value:1,label:"江苏省"}]}},directives:{permission:p.a},computed:s()({},Object(c.c)(["roles"])),watch:{"$store.state.ui.navIsOpen":function(e,a){this.isCollapse=e}},created:function(){this.getTableData()},methods:{getTableData:function(){var e=this;this.loadingData=!0;var a={page:this.page,pageSize:this.pageSize};n()(this.querys).forEach(function(l){a[l]=e.querys[l]}),this.$store.dispatch("getSupplierData",a).then(function(a){e.tableData=a.bdSupList,e.pageInfo=a.pageInfo,e.loadingData=!1}).catch(function(e){console.log(e)})},handleSizeChange:function(e){this.pageSize=e,this.getTableData()},handleCurrentChange:function(e){this.page=e,this.getTableData()}},components:{Header:i.a,Breadcrumb:o.a}},b={render:function(){var e=this,a=e.$createElement,l=e._self._c||a;return l("div",{attrs:{id:"container"}},[l("Header"),e._v(" "),l("div",{staticClass:"main",class:{fullsize:1==e.isCollapse}},[l("Breadcrumb"),e._v(" "),l("div",{staticClass:"wrapperContent"},[l("el-form",{staticClass:"search-form-inline",attrs:{inline:!0}},[l("el-form-item",[l("el-input",{attrs:{placeholder:"供应商名称"},model:{value:e.querys.supplierName,callback:function(a){e.$set(e.querys,"supplierName",a)},expression:"querys.supplierName"}})],1),e._v(" "),l("el-form-item",{staticClass:"selectMinni"},[l("el-select",{attrs:{placeholder:"供应商类型"},model:{value:e.querys.supplierType,callback:function(a){e.$set(e.querys,"supplierType",a)},expression:"querys.supplierType"}},e._l(e.supplierTypeOptions,function(e){return l("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})}))],1),e._v(" "),l("el-form-item",{staticClass:"selectMinni"},[l("el-select",{attrs:{placeholder:"省市"},model:{value:e.querys.province,callback:function(a){e.$set(e.querys,"province",a)},expression:"querys.province"}},e._l(e.provinceOptions,function(e){return l("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})}))],1),e._v(" "),l("el-form-item",[l("el-input",{attrs:{placeholder:"营业执照编号"},model:{value:e.querys.blNo,callback:function(a){e.$set(e.querys,"blNo",a)},expression:"querys.blNo"}})],1),e._v(" "),l("el-form-item",[l("el-input",{attrs:{placeholder:"注册资本"},model:{value:e.querys.regCapital,callback:function(a){e.$set(e.querys,"regCapital",a)},expression:"querys.regCapital"}})],1),e._v(" "),l("el-form-item",[l("el-input",{attrs:{placeholder:"食品经营许可证编号"},model:{value:e.querys.fblNo,callback:function(a){e.$set(e.querys,"fblNo",a)},expression:"querys.fblNo"}})],1),e._v(" "),l("el-form-item",[l("el-input",{attrs:{placeholder:"食品流通许可证编号"},model:{value:e.querys.fcpNo,callback:function(a){e.$set(e.querys,"fcpNo",a)},expression:"querys.fcpNo"}})],1),e._v(" "),l("el-form-item",[l("el-button",{attrs:{type:"primary"},on:{click:function(a){(e.page=1)&&e.getTableData()}}},[l("i",{staticClass:"iconfont icon-search icon-1x"}),l("span",[e._v("查询")])])],1),e._v(" "),l("el-form-item",[l("el-button",{attrs:{type:"primary",plain:""}},[l("i",{staticClass:"iconfont icon-export icon-1x"}),l("span",[e._v("导出")])])],1)],1),e._v(" "),l("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loadingData,expression:"loadingData"}],attrs:{height:"calc(100% - 165px)",data:e.tableData,"element-loading-text":"加载中","element-loading-spinner":"el-icon-loading","element-loading-background":"rgba(255, 255, 255, 1)",stripe:""}},[l("el-table-column",{attrs:{align:"center",prop:"supplierName",label:"供应商名称"}}),e._v(" "),l("el-table-column",{attrs:{align:"center",prop:"supplierType",label:"供应商类型"},scopedSlots:e._u([{key:"default",fn:function(a){return[e._v("\n            "+e._s(e.supplierTypeOptions[a.row.supplierType].label)+"\n          ")]}}])}),e._v(" "),l("el-table-column",{attrs:{align:"center",prop:"province",label:"省市"}}),e._v(" "),l("el-table-column",{attrs:{align:"center",prop:"distCounty",label:"区县"}}),e._v(" "),l("el-table-column",{attrs:{align:"center",prop:"detAddress",label:"详细地址"}}),e._v(" "),l("el-table-column",{attrs:{align:"center",prop:"blNo",label:"营业执照编号"}}),e._v(" "),l("el-table-column",{attrs:{align:"center",prop:"regCapital",label:"注册资本"}}),e._v(" "),l("el-table-column",{attrs:{align:"center",prop:"fblNo",label:"食品经营许可证编号"}}),e._v(" "),l("el-table-column",{attrs:{align:"center",prop:"fcpNo",label:"食品流通许可证编号"}}),e._v(" "),l("el-table-column",{attrs:{align:"center",prop:"fplNo",label:"食品生产许可证编号"}}),e._v(" "),l("el-table-column",{attrs:{align:"center",prop:"relRmcNum",label:"关联团餐公司数量"}}),e._v(" "),l("el-table-column",{attrs:{align:"center",prop:"supSchNum",label:"供应学校数量"}})],1),e._v(" "),l("el-pagination",{attrs:{"current-page":e.pageInfo&&e.pageInfo.curPageNum,"page-sizes":[20,30,50,100],"page-size":20,layout:"total, sizes, prev, pager, next, jumper",total:e.pageInfo&&e.pageInfo.pageTotal},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}})],1)],1)],1)},staticRenderFns:[]},g=l("VU/8")(u,b,!1,null,null,null);a.default=g.exports}});